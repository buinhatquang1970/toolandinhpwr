# config.py
# CẬP NHẬT: TUÂN THỦ CHẶT CHẼ BẢNG 2 (TÀI LIỆU FINAL)
# - DẢI UHF: KHÔNG CẤP PHÉP CHO WAN SIMPLEX (ĐÃ XÓA KHỎI QUY HOẠCH)

# =============================================================================
# A. QUY HOẠCH TẦN SỐ
# =============================================================================
FREQUENCY_ALLOCATION_VHF = [
    (138.000, 141.500, ['LAN'], "LAN"),
    (146.000, 146.500, ['LAN'], "LAN"),
    (147.000, 149.000, ['WAN_DUPLEX'], "WAN Duplex"),
    (149.000, 149.400, ['LAN', 'WAN_SIMPLEX'], "LAN, WAN Simplex"),
    (149.400, 149.900, ['LAN', 'WAN_SIMPLEX'], "LAN, WAN Simplex"),
    (156.5625, 156.7625, ['LAN'], "LAN"),
    (156.8375, 157.4375, ['LAN', 'WAN_SIMPLEX'], "LAN, WAN Simplex"),
    (160.4375, 160.600, ['LAN'], "LAN"),
    (160.600, 160.975, ['LAN'], "LAN"),
    (160.975, 161.475, ['LAN'], "LAN"),
    (161.475, 161.525, ['LAN'], "LAN"),
    (161.525, 161.9625, ['LAN', 'WAN_SIMPLEX'], "LAN, WAN Simplex"),
    (161.9875, 162.0125, ['LAN'], "LAN"),
    (162.050, 165.000, ['WAN_DUPLEX'], "WAN Duplex"),
    (165.000, 166.000, ['LAN', 'WAN_DUPLEX'], "LAN, WAN Duplex"),
    (167.000, 170.000, ['WAN_DUPLEX'], "WAN Duplex"),
    (170.000, 171.000, ['LAN', 'WAN_SIMPLEX', 'WAN_DUPLEX'], "Hỗn hợp"),
    (171.000, 174.000, ['LAN'], "LAN"),
]

# --- UHF: ĐÃ XÓA 'WAN_SIMPLEX' ĐỂ KHỚP BẢNG 2 ---
FREQUENCY_ALLOCATION_UHF = [
    (406.200, 409.000, ['LAN'], "LAN"),
    (415.000, 415.500, ['LAN'], "LAN"),
    (418.500, 419.500, ['LAN', 'WAN_DUPLEX'], "LAN, WAN Duplex"), # Chỉ có Duplex
    (428.500, 429.500, ['LAN', 'WAN_DUPLEX'], "LAN, WAN Duplex"), # Chỉ có Duplex
    (429.500, 430.000, ['LAN'], "LAN"),
    (440.000, 440.500, ['LAN'], "LAN"),
    (440.500, 441.000, ['LAN', 'WAN_DUPLEX'], "LAN, WAN Duplex"), # Chỉ có Duplex
    (441.200, 444.000, ['WAN_DUPLEX'], "WAN Duplex"),             # Chỉ có Duplex
    (445.500, 446.000, ['LAN', 'WAN_DUPLEX'], "LAN, WAN Duplex"), # Chỉ có Duplex
    (449.000, 450.000, ['LAN'], "LAN"),
    (457.370, 457.475, ['LAN'], "LAN"),
    (461.475, 463.080, ['LAN'], "LAN"),
    (467.370, 470.000, ['LAN'], "LAN"),
]

RESTRICTED_RANGES = [
    (408.875, 408.975, "EVN"),
]

# =============================================================================
# B. CHỈ TIÊU KHOẢNG CÁCH (MATRIX)
# =============================================================================

# Cấu trúc: { Loại Mạng: { Băng thông Mới: { Delta F: { Băng thông Cũ: Khoảng cách } } } }

# -----------------------------------------------------------------------------
# 1. DẢI TẦN VHF
# -----------------------------------------------------------------------------
MATRIX_VHF = {
    # 1.1 LAN TP Lớn - Anten Cao (>15m)
    "LAN_BIG_CITY_HIGH": {
        6.25: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 2.1, 12.5: 6, 25: 8.5}, 12.5: {6.25: 0.2, 12.5: 0.6, 25: 3.2}, 18.75: {6.25: 0.1, 12.5: 0.3, 25: 0.7} },
        12.5: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 6, 12.5: 7, 25: 8.7}, 12.5: {6.25: 0.6, 12.5: 1.2, 25: 4.5}, 18.75: {6.25: 0.3, 12.5: 0.4, 25: 1.1}, 25: {6.25: 0, 12.5: 0.1, 25: 0.2} },
        25.0: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 8.5, 12.5: 8.7, 25: 9}, 12.5: {6.25: 3.2, 12.5: 4.5, 25: 4.9}, 18.75: {6.25: 0.7, 12.5: 1.1, 25: 1.7}, 25: {6.25: 0, 12.5: 0.2, 25: 0.4} }
    },
    
    # 1.2 LAN TP Lớn - Anten Thấp (<=15m)
    "LAN_BIG_CITY_LOW": {
        6.25: { 0: {6.25: 6.3, 12.5: 6.3, 25: 6.3}, 6.25: {6.25: 1.4, 12.5: 4, 25: 5}, 12.5: {6.25: 0.1, 12.5: 0.3, 25: 1.5}, 18.75: {6.25: 0, 12.5: 0.1, 25: 0.2} },
        12.5: { 0: {6.25: 6.3, 12.5: 6.3, 25: 6.3}, 6.25: {6.25: 4, 12.5: 5, 25: 5.5}, 12.5: {6.25: 0.3, 12.5: 0.9, 25: 2}, 18.75: {6.25: 0.1, 12.5: 0.2, 25: 0.7}, 25: {6.25: 0, 12.5: 0, 25: 0.2} },
        25.0: { 0: {6.25: 6.3, 12.5: 6.3, 25: 6.3}, 6.25: {6.25: 5, 12.5: 5.5, 25: 6}, 12.5: {6.25: 1.5, 12.5: 2, 25: 3.5}, 18.75: {6.25: 0.2, 12.5: 0.7, 25: 1.2}, 25: {6.25: 0, 12.5: 0.2, 25: 0.3} }
    },

    # 1.3 LAN Tỉnh khác
    "LAN_PROVINCE": {
        6.25: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 2.1, 12.5: 6, 25: 8.7}, 12.5: {6.25: 0.2, 12.5: 0.6, 25: 3.2}, 18.75: {6.25: 0.3, 12.5: 0.2, 25: 0.8} },
        12.5: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 6, 12.5: 7.2, 25: 8.7}, 12.5: {6.25: 0.6, 12.5: 3, 25: 6}, 18.75: {6.25: 0.2, 12.5: 0.2, 25: 1.2}, 25: {6.25: 0, 12.5: 0.1, 25: 0.4} },
        25.0: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 8.7, 12.5: 8.7, 25: 9}, 12.5: {6.25: 3.2, 12.5: 6, 25: 6.5}, 18.75: {6.25: 0.8, 12.5: 1.2, 25: 1.7}, 25: {6.25: 0, 12.5: 0.4, 25: 0.4} }
    },

    # 1.4 WAN Simplex [Bảng VHF_..._WS]
    "WAN_SIMPLEX": {
        6.25: { 0: {6.25: 140, 12.5: 140, 25: 140}, 6.25: {6.25: 90, 12.5: 123, 25: 136}, 12.5: {6.25: 33, 12.5: 51, 25: 106}, 18.75: {6.25: 33, 12.5: 25, 25: 64}, 25: {6.25: 26, 12.5: 20, 25: 21} },
        12.5: { 0: {6.25: 140, 12.5: 140, 25: 140}, 6.25: {6.25: 130, 12.5: 130, 25: 135}, 12.5: {6.25: 33, 12.5: 35, 25: 100}, 18.75: {6.25: 30, 12.5: 22, 25: 76}, 25: {6.25: 23, 12.5: 5, 25: 8} },
        25.0: { 0: {6.25: 140, 12.5: 140, 25: 140}, 6.25: {6.25: 136, 12.5: 135, 25: 135}, 12.5: {6.25: 106, 12.5: 100, 25: 118}, 18.75: {6.25: 64, 12.5: 76, 25: 82}, 25: {6.25: 21, 12.5: 8, 25: 56} }
    },
    
    # 1.5 WAN Duplex [Bảng VHF_..._WD]
    "WAN_DUPLEX": {
        6.25: { 0: {6.25: 100, 12.5: 100, 25: 100}, 6.25: {6.25: 52, 12.5: 86, 25: 94}, 12.5: {6.25: 0, 12.5: 0, 25: 63} },
        12.5: { 0: {6.25: 100, 12.5: 140, 25: 140}, 6.25: {6.25: 94, 12.5: 87, 25: 94}, 12.5: {6.25: 0, 12.5: 76, 25: 100}, 18.75: {6.25: 0, 12.5: 22, 25: 47}, 25: {6.25: 0, 12.5: 5, 25: 8} },
        25.0: { 0: {6.25: 100, 12.5: 140, 25: 140}, 6.25: {6.25: 94, 12.5: 94, 25: 94}, 12.5: {6.25: 63, 12.5: 100, 25: 74}, 18.75: {6.25: 0, 12.5: 47, 25: 49}, 25: {6.25: 0, 12.5: 8, 25: 43} }
    }
}

# -----------------------------------------------------------------------------
# 2. DẢI TẦN UHF
# -----------------------------------------------------------------------------
MATRIX_UHF = {
    # 2.1 LAN UHF - Cao > 15m
    "LAN_BIG_CITY_HIGH": {
        6.25: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 2.1, 12.5: 6, 25: 8.5}, 12.5: {6.25: 0.2, 12.5: 0.6, 25: 3.2}, 18.75: {6.25: 0.1, 12.5: 0.3, 25: 0.7} },
        12.5: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 6, 12.5: 7, 25: 8.7}, 12.5: {6.25: 0.6, 12.5: 1.2, 25: 4.5}, 18.75: {6.25: 0.3, 12.5: 0.4, 25: 1.1}, 25: {6.25: 0.1, 12.5: 0.1, 25: 0.2} },
        25.0: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 8.7, 12.5: 8.7, 25: 9}, 12.5: {6.25: 4.5, 12.5: 4.5, 25: 4.9}, 25: {6.25: 0.2, 12.5: 0.2, 25: 0.4} }
    },

    # 2.2 LAN UHF - Thấp <= 15m
    "LAN_BIG_CITY_LOW": {
        6.25: { 0: {6.25: 6.3, 12.5: 6.3, 25: 6.3}, 6.25: {6.25: 1.4, 12.5: 4, 25: 5}, 12.5: {6.25: 0.1, 12.5: 0.3, 25: 1.5}, 18.75: {6.25: 0, 12.5: 0.1, 25: 0.2} },
        12.5: { 0: {6.25: 6.3, 12.5: 6.3, 25: 6.3}, 6.25: {6.25: 4, 12.5: 5, 25: 5.5}, 12.5: {6.25: 0.3, 12.5: 0.9, 25: 2}, 18.75: {6.25: 0.1, 12.5: 0.2, 25: 0.7}, 25: {6.25: 0, 12.5: 0, 25: 0.2} },
        25.0: { 0: {6.25: 6.3, 12.5: 6.3, 25: 6.3}, 6.25: {6.25: 5, 12.5: 5.5, 25: 6}, 12.5: {6.25: 1.5, 12.5: 2, 25: 3.5}, 18.75: {6.25: 0.2, 12.5: 0.7, 25: 1.2}, 25: {6.25: 0, 12.5: 0.2, 25: 0.3} }
    },

    # 2.3 LAN UHF - Tỉnh khác
    "LAN_PROVINCE": {
        6.25: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 2.1, 12.5: 6, 25: 8.7}, 12.5: {6.25: 0.2, 12.5: 0.6, 25: 3.2}, 18.75: {6.25: 0.3, 12.5: 0.2, 25: 0.8} },
        12.5: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 6, 12.5: 7.2, 25: 8.7}, 12.5: {6.25: 0.6, 12.5: 3, 25: 6}, 18.75: {6.25: 0.2, 12.5: 0.2, 25: 1.2}, 25: {6.25: 0, 12.5: 0.1, 25: 0.4} },
        25.0: { 0: {6.25: 10, 12.5: 10, 25: 10}, 6.25: {6.25: 8.7, 12.5: 8.7, 25: 9}, 12.5: {6.25: 3.2, 12.5: 6, 25: 6.5}, 18.75: {6.25: 0.8, 12.5: 1.2, 25: 1.7}, 25: {6.25: 0, 12.5: 0.4, 25: 0.4} }
    },
    
    # 2.4 WAN Simplex UHF [Bảng UHF_..._WS]
    # (Giữ bảng này để tham khảo, nhưng trên Quy hoạch đã khóa)
    "WAN_SIMPLEX": {
        6.25: { 0: {6.25: 120, 12.5: 120, 25: 120}, 6.25: {6.25: 70, 12.5: 103, 25: 116}, 12.5: {6.25: 8.1, 12.5: 19, 25: 86}, 18.75: {6.25: 8.1, 12.5: 6.2, 25: 44}, 25: {6.25: 6.4, 12.5: 5.1, 25: 5.2} },
        12.5: { 0: {6.25: 120, 12.5: 120, 25: 120}, 6.25: {6.25: 110, 12.5: 110, 25: 115}, 12.5: {6.25: 8.2, 12.5: 90, 25: 105}, 18.75: {6.25: 7.5, 12.5: 5.4, 25: 56}, 25: {6.25: 5.7, 12.5: 4, 25: 15} },
        25.0: { 0: {6.25: 120, 12.5: 120, 25: 120}, 6.25: {6.25: 116, 12.5: 115, 25: 115}, 12.5: {6.25: 86, 12.5: 105, 25: 105}, 18.75: {6.25: 44, 12.5: 56, 25: 56}, 25: {6.25: 5.2, 12.5: 15, 25: 15} }
    },

    # 2.5 WAN Duplex UHF
    "WAN_DUPLEX": {
        6.25: { 0: {6.25: 100, 12.5: 100, 25: 100}, 6.25: {6.25: 54, 12.5: 87, 25: 95}, 12.5: {6.25: 0, 12.5: 0, 25: 65} },
        12.5: { 0: {6.25: 100, 12.5: 120, 25: 120}, 6.25: {6.25: 95, 12.5: 88, 25: 94}, 12.5: {6.25: 0, 12.5: 57, 25: 105}, 18.75: {6.25: 0, 12.5: 41, 25: 47}, 25: {6.25: 0, 12.5: 4, 25: 15} },
        25.0: { 0: {6.25: 100, 12.5: 120, 25: 120}, 6.25: {6.25: 95, 12.5: 94, 25: 94}, 12.5: {6.25: 65, 12.5: 105, 25: 75}, 18.75: {6.25: 0, 12.5: 47, 25: 49}, 25: {6.25: 0, 12.5: 15, 25: 43} }
    }
}

# -----------------------------------------------------------------------------
# 3. GIAO THOA (MẠNG KHÁC LOẠI)
# -----------------------------------------------------------------------------
MATRIX_CROSS = {
    # 1. User LAN -> Gặp WAN Simplex
    "LAN_VS_WAN_SIMPLEX": {
        6.25: { 0: {12.5: 100}, 12.5: {12.5: 20} },
        12.5: { 0: {12.5: 100}, 12.5: {12.5: 20} },
        25.0: { 0: {12.5: 100}, 12.5: {12.5: 20} }
    },
    # 2. User LAN -> Gặp WAN Duplex
    "LAN_VS_WAN_DUPLEX": {
        6.25: { 0: {12.5: 120}, 12.5: {12.5: 30} },
        12.5: { 0: {12.5: 120}, 12.5: {12.5: 30} },
        25.0: { 0: {12.5: 120}, 12.5: {12.5: 30} }
    },
    # 3. User WAN Simplex -> Gặp LAN
    "WAN_SIMPLEX_VS_LAN": {
        6.25: { 0: {12.5: 120} },
        12.5: { 0: {12.5: 120} },
        25.0: { 0: {12.5: 120} }
    },
    # 4. User WAN Duplex -> Gặp LAN
    "WAN_DUPLEX_VS_LAN": {
        6.25: { 0: {12.5: 140} },
        12.5: { 0: {12.5: 140} },
        25.0: { 0: {12.5: 140} }
    }
}